<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1">
		<!-- Google Chrome Frame也可以让IE用上Chrome的引擎: -->
		<meta name="renderer" content="webkit">
		<!--国产浏览器高速模式-->
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Mr.Jiang" />
		<title>简历登记</title>
		
		<!-- 导航元素依赖 开始 -->	
		<link rel="stylesheet" href="../../css/font.css">
		<link rel="stylesheet" href="../../css/xadmin.css">
		<script src="../../lib/layui/layui.js" charset="utf-8"></script>
		<script type="text/javascript" src="../../js/xadmin.js"></script>
		<!-- 导航元素依赖 结束 -->
	</head>
	<body>
		<!-- 头部导航 开始 -->
		<div class="x-nav">
		  <span class="layui-breadcrumb">
		    <a href="">你正在做的业务是</a>
		    <a href="">人力资源</a>
			<a href="">招聘管理</a>
			<a href="">简历管理</a>
		    <a>
		      <cite>简历筛选</cite></a>
		  </span>
		  <a class="layui-btn layui-btn-small" style="line-height:1.6em;margin-top:3px;float:right" onclick="location.reload()" title="刷新">
		    <i class="layui-icon layui-icon-refresh" style="line-height:30px"></i></a>
		</div>
		<!-- 头部导航 结束 -->
		<!-- 表单元素开始 -->
		<form class="layui-form" action="">
			<table class="layui-table">
				<tbody>
					<tr>
						<td>
							<div class="layui-form-item">
								<label class="layui-form-label">职位分类</label>
								<div class="layui-input-block">
									<select id="majorKindId" name="majorKindId">
										<option value=""></option>
										<option value="">销售</option>
									</select>
								</div>
							</div>
						</td>
					  
						<td>
							<div class="layui-form-item">
								<label class="layui-form-label">职位名称</label>
								<div class="layui-input-block">
									<select id="majorId" name="majorId">
										<option value=""></option>
										<option value="">程序员</option>
									</select>
								</div>
							</div>
						</td>  
						
						<td>
							<div class="layui-form-item">
								<div class="layui-inline">
								    <label class="layui-form-label">投递简历时间</label>
								    <div class="layui-input-inline" style="width: 100px;">
										<input type="text" placeholder="开始" name="startDate" class="layui-input" id="test1">
								    </div>
								    <div class="layui-form-mid">-</div>
								    <div class="layui-input-inline" style="width: 100px;">
										<input type="text" placeholder="结束" name="endDate" class="layui-input" id="test2">
								    </div>
									<div class="layui-form-mid">(yyyy-mm-dd)</div>
								</div>
							</div>
						</td>
					</tr>
					
					<tr>
						
					</tr>
					<tr align="center">
						<td colspan="3">
							<div class="layui-form-item">
							  <div class="layui-input-block">
							    <button class="layui-btn" lay-submit lay-filter="formDemo">开始</button>
							    <button type="reset" class="layui-btn layui-btn-primary">清除</button>
							  </div>
							</div>
						</td>
					</tr>
					
				</tbody>
			</table>
		</form>
		<!-- 表单元素结束 -->
		
		<!-- 表格元素开始 -->
		<table class="layui-table" lay-skin="line" style="margin-top: 50px;">
		    <colgroup>
		      <col width="150">
		      <col width="200">
		      <col>
		    </colgroup>
		    <thead>
		      <tr>
		        <th>档案编号</th>
		        <th>姓名</th>
		        <th>性别</th>
				<th>职位分类</th>
				<th>职位名称</th>
				<th>电话号码</th>
				<th>复核状态</th>
				<th>操作</th>
		      </tr> 
		    </thead>
		    <tbody>
				<tr>
					<td>541</td>
					<td>W</td>
					<td>男</td>
					<td>销售</td>
					<td>总经理</td>
					<td>123123213</td>
					<td><span class="layui-badge">待复核</span></td>
					<td>
						<button type="button" onclick="xadmin.open('简历筛选编辑','ResumeScreening-Update.html',1580,750)" class="layui-btn layui-btn-sm layui-btn-warm">复核</button>
					</td>
				</tr>
		    </tbody>
			
			<tfoot>
				<tr align="center">
					<td colspan="8">
						<div id="page"></div>


						<script>
						layui.use('laypage', function(){
						  var laypage = layui.laypage;
						  
						  //执行一个laypage实例
						  laypage.render({
						    elem: 'page' //注意，这里的 test1 是 ID，不用加 # 号
						    ,count: 50 //数据总数，从服务端得到
						  });
						});
						</script>
					</td>
				</tr>
			</tfoot>
		</table>
		<!-- 表格元素结束 -->
		
	</body>
	<script>
		/* 
			下拉框依赖
		 */
		layui.use('form', function(){
		  var form = layui.form;
		  
		  //监听提交
		  form.on('submit(formDemo)', function(data){
			layer.msg(JSON.stringify(data.field));
			return false;
		  });
		});	
			
		layui.use('laydate', function(){
		  var laydate = layui.laydate;
		  
		  //执行一个laydate实例
		  laydate.render({
			elem: '#test1'//指定元素
		  });
		  //执行一个laydate实例
		  laydate.render({
				elem: '#test2'//指定元素
		  });
		});

		layui.use(['form', 'jquery', 'layer'], function () {
			let form = layui.form;
			let $ = layui.jquery;
			let layer = layui.layer;

			// 职位分类
			$.ajax({
				url: "http://127.0.0.1:8080/ssm/config-major-kind/all",
				type: "get",
				success: res => {
					// console.log(res)
					$("#majorKindId option:gt(0)").remove()

					$.each(res.data, function (index, item) {
						$("#majorKindId").append(new Option(item.majorKindName, item.majorKindId))
						layui.form.render('select')
					})
				}
			})


			// 职业名称
			$.ajax({
				url: "http://127.0.0.1:8080/ssm/config-major/all",
				type: "get",
				success: res => {
					// console.log(res)
					$("#majorId option:gt(0)").remove()

					$.each(res.data, function (index, item) {
						$("#majorId").append(new Option(item.majorName, item.makId))
						layui.form.render('select')
					})
				}
			})

		})


	</script>	
</html>
